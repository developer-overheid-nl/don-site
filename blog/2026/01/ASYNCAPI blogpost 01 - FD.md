---
authors: [floris-deutekom]
tags: [AsyncAPI, eBMS, Digikoppeling]
---

# AsyncAPI: de toekomst van eBMS?

Binnen Digikoppeling wordt al jaren gebruikgemaakt van het eBMS protocol voor betrouwbare, asynchrone berichtenuitwisseling tussen overheidsorganisaties. Deze standaard heeft zijn waarde bewezen, maar is technisch complex, sterk gekoppeld aan SOAP/XML en kent afnemende ondersteuning in moderne applicaties en ontwikkelomgevingen. Nu de wereld meer richting API’s en breed gedragen, simpele standaarden beweegt is het de moeite waard om rond te gaan kijken naar een modern alternatief. De behoefte aan asynchrone API-communicatie die beter aansluit bij hedendaagse architecturen, DevOps werkwijzen en API governance is onverminderd. In die context is AsyncAPI een zinvolle optie om te verkennen binnen de kaders van Digikoppeling.

### AsyncAPI
AsyncAPI is een open specificatie gebouwd bovenop het werk van het OpenAPI Initiative, met als doel om asynchrone API’s en event-driven interfaces te beschrijven op een manier die breed gedragen en begrepen is. Met AsyncAPI worden berichten, kanalen, payloads en interactiepatronen eenduidig vastgelegd in een machine-leesbaar document. Het is ook systeem- en protocol-agnostisch; AsyncAPI vervangt geen transportprotocol maar beschrijft hoe systemen asynchroon met elkaar communiceren. Of je nou HTTP, MQTT of iets heel anders gebruikt is in de kern niet van belang, wat het heel flexibel maakt in het gebruik. De uitbreiding op het werk van OpenAPI Initiative heeft ook voordelen die nogmaals benoemd mogen worden: door in te haken op de bestaande en veelgebruikte OAS vormgeving van API documentatie haakt het naadloos in op de manier waarop men vaak al werkt.

### Wat levert het op?
Waarom dan specifiek dit als alternatief naast eBMS? AsyncAPI lijkt zeer sterk aan te sluiten op de moderne visie van de digitale overheid. Berichtenstromen worden expliciet en duidelijk beschreven, in plaats van impliciet via CPA’s en XSD’s. Het is toegankelijk voor ontwikkelaars doordat het in bestaande API-tooling, CI/CD pipelines en documentatie-portals past. Het is, nogmaals, protocol-agnostisch, waardoor men niet langer vast zit aan SOAP, XML en uiterst specifieke profielen, waardoor het zowel nu als in de toekomst ingezet kan worden. Daarnaast zijn veel van de use-cases binnen Digikoppeling (notificaties, statusupdates, bevestigingen e.a.) goed te modelleren met AsyncAPI; oftewel, het is ook daadwerkelijk hiervoor in te zetten.

In de praktijk zou dit kunnen betekenen dat AsyncAPI als interface-laag bovenop (of naast) bestaande Digikoppeling afspraken kan functioneren. Het zou eBMS kunnen vervangen bij nieuwe asynchrone koppelingen, een heldere beschrijving van berichtenverkeer op kunnen leveren die los van keuzes over de vorm van het transport geldig blijft, en een brug kunnen vormen naar modernere standaarden binnen event-driven architectuur. 

### Geleidelijke implementatie
Kortom, er lijken veel voordelen te behalen. AsyncAPI is natuurlijk nog vrij nieuw binnen de Nederlandse Overheid, en de praktijk zal moeten uitwijzen of dit inderdaad een goede standaard voor asynchroon berichtenverkeer blijkt te zijn. Het is dan ook zeker geen “drop-in replacement”, maar een serieuze optie om asynchroon berichtenverkeer binnen de Nederlandse Overheid te standaardiseren op een toekomstbestendige manier. Een stapsgewijze introductie als alternatief, en niet als vervanging, zal ongetwijfeld de beste aanpak zijn om hiermee aan de slag te gaan. Wat in ieder geval zeker is, is dat we er goed aan doen om naar de toekomst te kijken en onze opties te gaan verkennen. AsyncAPI biedt hierin een open, breed gedragen en ontwikkelaar-vriendelijke manier om asynchrone API’s te standaardiseren, en die potentie is het onderzoeken meer dan waard.

### AsyncAPI en-ich is niet genoeg
Als eBMS wel uitgefaseerd dient te worden dan zijn er naast AsyncAPI uiteraard nog andere bouwstenen nodig. Beschrijvingen van asynchrone kanalen e.a. is niet voldoende; een duidelijke beschrijving van de vorm die berichten aan dienen te nemen, zoals bijv. Cloudevents mogelijk maakt, is ook noodzakelijk. Immers worden er nu te pas en te onpas enorme berichten over de lijn gegooid, terwijl we juist naar event-driven architectuur aan het bewegen zijn. En, hoewel protocol-agnostische oplossingen altijd de voorkeur zullen hebben, is het goed om te onderzoeken of er enige mate van standaardisering in het gebruik daarvan ons iets oplevert. Zo nee, dan dient ook dat duidelijk gemaakt te worden. Tot slot kan een overgang als dit alleen slagen als er ook een catalogus functie beschikbaar komt te staan, gelijk aan de API-catalogus die nu voor synchrone API’s te vinden is op developer.overheid.nl. Zonder vindbaarheid en voorbeelden zal de daadwerkelijke implementatie in chaos uitmonden, en dat is juist wat we met standaardisatie proberen tegen te gaan.

Kortom, er is nog genoeg te doen; hopelijk is hiermee in ieder geval duidelijk geworden dat er aan één van deze bouwstenen, te weten AsyncAPI, grote voordelen kleven voor het gebruik van asynchroon berichtenverkeer.